"use strict";(self.webpackChunktibia=self.webpackChunktibia||[]).push([[560],{8518:(e,l,r)=>{r.r(l),r.d(l,{default:()=>S});var a=r(1425);const n={class:"card"},i={class:"card-content"},s={class:"input-group large left"},t=["value"],u={key:0,class:"mt"},o={class:"filters-pills"},d=["onClick"],h={key:1,class:"mt"},c={class:"filters-pills"},v={class:"mt"},f={class:"mt table-fixed"},b={key:0},k=["href"],m={class:"hide-on-mobile"},L={class:"hide-on-mobile"},y={key:2,class:"loader-wrapper"};var C=r(1083);const p=["Aethera","Antica","Astera","Belobra","Blumera","Bona","Bravoria","Calmera","Cantabra","Celebra","Celesta","Citra","Collabra","Descubra","Dia","Dracobra","Eclipta","Epoca","Escura","Etebra","Ferobra","Firmera","Gentebra","Gladera","Gladibra","Harmonia","Havera","Honbra","Hostera","Idyllia","Ignitera","Inabra","Issobra","Jadebra","Kalanta","Kalibra","Kalimera","Karmeya","Lobera","Luminera","Lutabra","Luzibra","Menera","Monstera","Monza","Mystera","Nefera","Nevia","Noctalia","Oceanis","Ombra","Ourobra","Pacera","Peloria","Penumbra","Premia","Quelibra","Quidera","Quintera","Rasteibra","Refugia","Retalia","Secura","Serdebra","Solidera","Sombra","Sonira","Stralis","Talera","Tempestera","Terribra","Thyria","Tornabra","Unebra","Ustebra","Venebra","Victoris","Vunira","Wintera","Xybra","Xyla","Xymera","Yonabra","Yovera","Yubra","Zuna","Zunera"],B={name:"Houses",data:function(){return{servers:p,selectedServer:"",towns:["Ab'Dendriel","Ankrahmun","Candia","Carlin","Darashia","Edron","Farmine","Gray Beach","Issavi","Kazordoon","Liberty Bay","Moonfall","Port Hope","Rathleton","Silvertides","Svargrond","Thais","Venore","Yalahar"],server:{"Ab'Dendriel":null,Ankrahmun:null,Carlin:null,Candia:null,Darashia:null,Edron:null,Farmine:null,"Gray Beach":null,Issavi:null,Kazordoon:null,"Liberty Bay":null,Moonfall:null,"Port Hope":null,Rathleton:null,Svargrond:null,Silvertides:null,Thais:null,Venore:null,Yalahar:null},serverFree:{"Ab'Dendriel":null,Ankrahmun:null,Carlin:null,Candia:null,Darashia:null,Edron:null,Farmine:null,"Gray Beach":null,Issavi:null,Kazordoon:null,"Liberty Bay":null,Moonfall:null,"Port Hope":null,Rathleton:null,Svargrond:null,Silvertides:null,Thais:null,Venore:null,Yalahar:null},serverBidded:{"Ab'Dendriel":null,Ankrahmun:null,Carlin:null,Candia:null,Darashia:null,Edron:null,Farmine:null,"Gray Beach":null,Issavi:null,Kazordoon:null,"Liberty Bay":null,Moonfall:null,"Port Hope":null,Rathleton:null,Svargrond:null,Silvertides:null,Thais:null,Venore:null,Yalahar:null},serverHoursLeft:{"Ab'Dendriel":null,Ankrahmun:null,Carlin:null,Candia:null,Darashia:null,Edron:null,Farmine:null,"Gray Beach":null,Issavi:null,Kazordoon:null,"Liberty Bay":null,Moonfall:null,"Port Hope":null,Rathleton:null,Svargrond:null,Silvertides:null,Thais:null,Venore:null,Yalahar:null},filterByTown:null,isBidded:!1,hoursLeft:!1,loader:0}},methods:{checkServer:function(){let e=this.serverFree,l=this.serverBidded,r=this.serverHoursLeft;this.filterByTown=null,this.selectedServer&&this.towns.forEach((a=>{this.loader++,C.A.get("https://api.tibiadata.com/v4/houses/"+this.selectedServer+"/"+a).then((n=>{e[a]=n.data.houses.house_list.filter((e=>!0!==e.rented)),l[a]=n.data.houses.house_list.filter((e=>!0!==e.rented)).filter((e=>""!==e.auction.time_left)),r[a]=n.data.houses.house_list.filter((e=>!0!==e.rented)).filter((e=>e.auction.time_left.match(/hours/))),this.loader--}))})),this.isBidded=!1,this.server=e},filter:function(e){e===this.filterByTown?this.filterByTown=null:this.filterByTown=e},showBidded:function(){this.hoursLeft=!1,this.isBidded=!this.isBidded,this.isBidded?this.server=this.serverBidded:this.server=this.serverFree},showHours:function(){this.isBidded=!1,this.hoursLeft=!this.hoursLeft,this.hoursLeft?this.server=this.serverHoursLeft:this.server=this.serverFree},formatNumber:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}},S=(0,r(6262).A)(B,[["render",function(e,l,r,C,p,B){return(0,a.uX)(),(0,a.CE)("article",n,[l[11]||(l[11]=(0,a.Lk)("div",{class:"card-header"},[(0,a.Lk)("h2",{class:"card-title"},[(0,a.Lk)("img",{src:"icons/houses.svg",alt:"",width:"18",height:"18"}),(0,a.eW)(" Find free houses ")])],-1)),(0,a.Lk)("div",i,[(0,a.Lk)("div",s,[l[5]||(l[5]=(0,a.Lk)("label",{for:"server"},"Select server",-1)),(0,a.bo)((0,a.Lk)("select",{id:"server","onUpdate:modelValue":l[0]||(l[0]=l=>e.selectedServer=l),onChange:l[1]||(l[1]=(...e)=>B.checkServer&&B.checkServer(...e))},[l[4]||(l[4]=(0,a.Lk)("option",{value:"",disabled:"",selected:""},"Select...",-1)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.servers,((e,l)=>((0,a.uX)(),(0,a.CE)("option",{value:e,key:l},(0,a.v_)(e),9,t)))),128))],544),[[a.u1,e.selectedServer]])]),l[10]||(l[10]=(0,a.Lk)("small",null,[(0,a.eW)("This tool depends on "),(0,a.Lk)("a",{href:"https://tibiadata.com/",rel:"noopener",target:"_blank"},"TibiaData API")],-1)),e.selectedServer?((0,a.uX)(),(0,a.CE)("div",u,[(0,a.Lk)("div",o,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.towns,((l,r)=>((0,a.uX)(),(0,a.CE)("span",{class:(0,a.C4)(["filters-pill",{selected:e.filterByTown===l}]),onClick:e=>B.filter(l),key:r},(0,a.v_)(l),11,d)))),128))]),l[6]||(l[6]=(0,a.Lk)("small",{class:"filters-info"},"Filter by town.",-1))])):(0,a.Q3)("v-if",!0),e.selectedServer?((0,a.uX)(),(0,a.CE)("div",h,[(0,a.Lk)("div",c,[(0,a.Lk)("span",{class:(0,a.C4)(["filters-pill",{selected:e.isBidded}]),onClick:l[2]||(l[2]=e=>B.showBidded())},"Is bidded",2),(0,a.Lk)("span",{class:(0,a.C4)(["filters-pill",{selected:e.hoursLeft}]),onClick:l[3]||(l[3]=e=>B.showHours())},"Hours left",2)]),l[7]||(l[7]=(0,a.Lk)("small",{class:"filters-info"},"Other filers.",-1))])):(0,a.Q3)("v-if",!0),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.server,((r,n)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:n},[!e.selectedServer||null==r||!r.length||e.filterByTown&&e.filterByTown!==n?(0,a.Q3)("v-if",!0):((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.Lk)("h3",v,(0,a.v_)(n),1),(0,a.Lk)("table",f,[l[8]||(l[8]=(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("th",null,"Name"),(0,a.Lk)("th",{class:"hide-on-mobile"},"Rent"),(0,a.Lk)("th",{class:"hide-on-mobile"},"Size"),(0,a.Lk)("th",null,"Current bid"),(0,a.Lk)("th",null,"Time left")])],-1)),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r,((l,r)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:r},["rented"!==l.status?((0,a.uX)(),(0,a.CE)("tr",b,[(0,a.Lk)("td",null,[(0,a.Lk)("a",{href:"https://www.tibia.com/community/?subtopic=houses&page=view&world="+e.selectedServer+"&houseid="+l.house_id,target:"_blank"},(0,a.v_)(l.name),9,k)]),(0,a.Lk)("td",m,(0,a.v_)(B.formatNumber(l.rent)),1),(0,a.Lk)("td",L,(0,a.v_)(l.size),1),(0,a.Lk)("td",null,(0,a.v_)(B.formatNumber(l.auction.current_bid)),1),(0,a.Lk)("td",null,(0,a.v_)(l.auction.time_left||"-"),1)])):(0,a.Q3)("v-if",!0)],64)))),128))])])],64))],64)))),128)),e.loader>0?((0,a.uX)(),(0,a.CE)("div",y,l[9]||(l[9]=[(0,a.Lk)("div",{class:"loader",role:"status"},null,-1)]))):(0,a.Q3)("v-if",!0)])])}]])}}]);